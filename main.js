(()=>{"use strict";let e,t;const n=async n=>{let a,c,o=n;await(async()=>{const e=await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${o}&limit=1&appid=241019ef2c8c83b71acba7e390ce2fac`,{mode:"cors"}),t=await e.json();a=t[0].lat,c=t[0].lon})(),await(async()=>{await(async()=>{const t=await fetch(`http://api.openweathermap.org/data/2.5/forecast?lat=${a}&lon=${c}&cnt=4&appid=241019ef2c8c83b71acba7e390ce2fac&units=metric`,{mode:"cors"});e=await t.json()})(),await(async()=>{const e=await fetch(`http://api.openweathermap.org/data/2.5/air_pollution?lat=${a}&lon=${c}&appid=241019ef2c8c83b71acba7e390ce2fac`,{mode:"cors"});t=await e.json()})()})()},a=(e,t)=>{const n=e=>{const t=document.createElement("sup");t.innerText="Â°C",e.appendChild(t)},a=document.querySelector("#next-hours");(()=>{document.querySelector("#city").textContent=e.city.name,document.querySelector("#currentTime").textContent="at "+e.list[0].dt_txt;const a=document.querySelector("#currentTemp");a.textContent=Math.round(e.list[0].main.temp),n(a),document.querySelector("#currentCondition").className=e.list[0].weather[0].main.toLowerCase(),document.querySelector("#currentDesc").textContent=e.list[0].weather[0].description,document.querySelector("#aqi").textContent="AQI "+t.list[0].main.aqi})(),a.innerHTML="",e.list.slice(1).forEach((e=>{(e=>{const t=document.createElement("li");t.classList="preview",a.appendChild(t),console.log(e);const c=document.createElement("myicon");c.classList=e.weather[0].main.toLowerCase(),t.appendChild(c);const o=document.createElement("p");o.innerText+=` ${e.dt_txt.slice(10,16)} ${e.weather[0].description} ${Math.round(e.main.temp)}`,n(o),t.appendChild(o)})(e)}))};(async()=>{const c=document.querySelector(".loading"),o=document.querySelector(".app-wrapper"),i=()=>{c.classList.toggle("hidden"),o.classList.toggle("hidden")};await n("London"),await a(e,t),i();const r=document.querySelector("#searchBtn"),s=document.querySelector("#input");r.addEventListener("click",(async()=>{let c=document.querySelector("#input").value;i(),await n(c),await a(e,t),i(),c=""})),s.addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),r.click())}))})()})();